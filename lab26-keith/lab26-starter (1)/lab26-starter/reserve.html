<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body{
    width: 60%;
    margin: auto;
    
}
form {
    width: 30%;
    margin: auto;
    text-align: left;
    
}
.fieldset1{
  display: grid;
  grid-template-columns: 
  1fr 
  ;
}

#passengers{
  width: 25%;
}
</style>
<!-- october 7, keith, lab 26 -->
<body>
    <form id="form">
        <h1>Flight Reservation</h1>
    <fieldset class="fieldset1">
        
        <label for="fname">First Name:<input type="text" id="fname" name="fname" placeholder="enter a value here!">
        </label>
        <label for="mname">Middle Name:<input type="text" id="mname" name="mname" placeholder="enter a value here!">
        </label>
        <label for="lname">
          Last Name:<input type="text" id="lname" name="lname" placeholder="enter a value here!">
        </label>

        
    </fieldset>
    <fieldset id="classf">
        <label>class:</label>
        <label>Business<input type="radio" name="class" id="business" value="male"> </label>
        <label>Economy<input type="radio" name="class" id="economy" value="female"> </label>
        <span id="errorClass"></span>
    </fieldset>

    <fieldset class="fieldset1">
      <label for="wheelchair">Wheelchair:<input type="checkbox" id="wheelchair" name="wheelchair"></label>
      <label for="passengers">
        Passengers:<input type="number" id="passengers" name="passengers" placeholder="1">
      </label>
      <span id="errorPassengers" class="error"> </span>
    </fieldset>
    <p id="formMessage"></p>
    <button id="btn1" type="submit" id="submit">send</button>
    <button id="btn2" type="reset">cancel</button>
    </form>
    
</body>
<script>
  //btn1 is unused, gave it a use
  var btn1 = document.getElementById("btn1");
  var btn2 = document.getElementById("btn2");

  var firstName = document.getElementById("fname");
  var lastName  = document.getElementById("lname");
  var middleName = document.getElementById("mname");
  var passengers = document.getElementById("passengers");
  var form = document.getElementById("form");

  var errorClass = document.getElementById("errorClass");
  var errorPassengers = document.getElementById("errorPassengers");
  
    //could make another and use it for class
    function ValidateField(fieldID) {
      var field = document.getElementById(fieldID);
      
      if (field.value== "") {
        field.style.border = "2px solid red";
        field.placeholder = "enter a value here";
        return false;
      } else {
        field.style.border = "2px solid black";
        return true;
      }
    }


  // function ValidateField(fieldID) {
  //   var field = document.getElementById(fieldID);

  //   if (field.value == ""){
  //     field.style.border = "2px solid red"
  //     field.placeholder = "please enter a value"
  //     return false;
  //   }else {
  //     field.style.border = ""
  //     return true
  //   }

  // }
  // firstName.addEventListener("blur", function (){
  //   ValidateField("fname")});
  // lastName.addEventListener("blur", function (){
  //   ValidateField("lname")});

    function ValidateClass() {
  var selected = document.querySelector('input[name="class"]:checked');
  if (!selected) {
    errorClass.innerText = "please select a class";
    errorClass.style.color = "red";
    return false;
    
  } else {
    errorClass.innerText = "";
    return true;
  }
}

  function ValidatePassengers() {
  if (passengers.value < 1 || passengers.value > 5 || isNaN(passengers.value)) {
    errorPassengers.innerText = "Please enter a number between 1 and 5"; 
    errorPassengers.style.color = "red";
    passengers.style.border = "2px solid red";
    return false;
  } else {
    errorPassengers.innerText = "";
    passengers.style.border = "2px solid green";
    return true;
  }
}


function ValidateForm(event) {
event.preventDefault(); 

  var name1 = ValidateField("fname");
  var name2 = ValidateField("lname");
  var nameM = ValidateField("mname");
  var class1 = ValidateClass();
  var passengers1 = ValidatePassengers();

  if (name1 && name2 && nameM && class1 && passengers1) {
    formMessage.innerText = "form submitted";
    formMessage.style.color = "green";

    
    var elements = form.elements;
    for (var i = 0; i < elements.length; i++) {
        elements[i].disabled = true;
    }
    //form.submit();

    // if (ValidateField("fname") && ValidateField("lname") && ValidateClass() && ValidatePassengers()) {
  //   formMessage.innerText = "form submitted";
  //   formMessage.style.color = "green";

  //   var elements = form.elements;
  //   for (var i = 0; i < elements.length; i++) {
  //       elements[i].disabled = true;
  //   }
  //   //form.submit();
    
  // } else {
  // formMessage.innerText = "please fix the errors above and try again.";
  //   formMessage.style.color = "red";
  // }

  } else {
  formMessage.innerText = "please fix the errors above and try again.";
    formMessage.style.color = "red";
  }
}


function resetForm() {

  errorClass.innerText = "";
  errorPassengers.innerText = "";
  formMessage.innerText = "";

  middleName.style.border = "";
  firstName.style.border = "";
  lastName.style.border = "";
  passengers.style.border = "";

}
btn2.addEventListener("click", resetForm);

//put this in it came to me in a dream
btn1.addEventListener("click", ValidateForm)

firstName.addEventListener("blur", function () { 
      ValidateField("fname");});
    lastName.addEventListener("blur", function () { 
      ValidateField("lname");});
  middleName.addEventListener("blur", function () { 
      ValidateField("mname");});

passengers.addEventListener("blur", ValidatePassengers);

//see's each button as a way to submit the form
// form.addEventListener("submit", ValidateForm);



























// Anonymous functions: are functions without a name.
// Arrow functions: are a specific, concise syntax for creating anonymous functions with distinct this binding behavior.

// Callback functions: are a role that any function (named, anonymous, or arrow) can play, where it is passed as an argument to be executed later by another function.













</script>
</html>
